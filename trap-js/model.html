<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-25
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141125" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Transport Abstraction Package - Trap - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>TrAP JavaScript</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-25</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="../index.html" title="Trap">
        Trap</a>
        </li>
      <li class="divider ">/</li>
                <li class="">
                    <a href="./" title="Transport Abstraction Package - Trap">
        Transport Abstraction Package - Trap</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
                
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Trap 1.3</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../trap-api/quickstart.html" title="Java Quickstart">
          <i class="none"></i>
        Java Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="../trap-js/index.html" title="JavaScript Quickstart">
          <i class="none"></i>
        JavaScript Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="../channels.html" title="Channels">
          <i class="none"></i>
        Channels</a>
            </li>
                  
      <li>
    
                          <a href="../configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                              <li class="nav-header">Language Specific Documentation</li>
                                
      <li>
    
                          <a href="../trap-api/index.html" title="Java">
          <i class="none"></i>
        Java</a>
            </li>
                  
      <li>
    
                          <a href="../trap-js/index.html" title="JavaScript">
          <i class="none"></i>
        JavaScript</a>
            </li>
                              <li class="nav-header">Trap JavaScript API</li>
                                
      <li>
    
                          <a href="index.html" title="Quickstart">
          <i class="none"></i>
        Quickstart</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>API Model</a>
          </li>
                  
      <li>
    
                          <a href="jsdoc/index.html" title="JSDoc">
          <i class="none"></i>
        JSDoc</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                              
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                      
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="ericssonresearch.github.io/trap/trap-js/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Development Model</h1>
<p>The Trap JS API is written to closely mirror the Java API, with concessions primarily being done in the areas of namespaces and callbacks. Whereas Java uses a delegate model for callbacks, JavaScript has those same delegates be callback functions. Whereas Java has packages, JS uses the Trap. namespace.</p>
<p>In order to facilitate a good model for both languages, the Trap JS API has some adaptations.</p>
<h1>Getters and Setters</h1>
<p>Properties on Trap objects can be accessed as normal JavaScript properties, as follows:</p>

<div class="source">
<pre>channel = endpoint.getChannel(1);
channel.streaming = false;
</pre></div>
<p>However, to ensure code compatibility, any property also has accessor methods set.</p>

<div class="source">
<pre>channel.setStreaming(false);
</pre></div>
<p>If trying to serialise a Trap object, whether for debug, printing or other purposes, take care to export the property values as values and not as functions.</p>
<h1>Events</h1>
<p>The JavaScript API dispatches events wherever the Java API would call delegates. These events can be registered for using the <i>.on(callback)</i> method and unregistered using <i>.off(callback)</i>. (Alternative syntax being add/removeEventListener). One callback per object can be set using the .on<i>event</i> property, e.g. <tt>client.onopen = function(){}</tt></p>
<h1>Logging</h1>
<p>The Trap JS library comes with rudimentary logging functionality. This can be enabled and disabled using Trap._logger.</p>
<h1>Multiple connections</h1>
<p>Trap can be instantiated multiple times, as long as the underlying versions match. This includes binary support.</p>
<h1>Java API Compatibility</h1>
<p>The JavaScript library closely tracks the Java library. As such, internal usage of Trap (including extending internal methods) uses Java constructs. Trap ports over parts of the following APIs for compatibility purposes:</p>

<ul>
  
<li>Trap.ByteArrayOutputStream</li>
  
<li>Trap.List</li>
  
<li>Trap.Map</li>
  
<li>Trap.Set</li>
  
<li>Trap.StringBuffer</li>
</ul>
<h1>zlib</h1>
<p>Trap embeds the zlib library from <a class="externalLink" href="https://github.com/imaya/zlib.js">https://github.com/imaya/zlib.js</a>. This is used for compression.</p>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014
                        <a href="https://www.ericsson.com">Ericsson AB</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>