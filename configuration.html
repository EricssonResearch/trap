<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-25
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141125" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Transport Abstraction Package - Trap - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>TrAP Parent</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-25</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="index.html" title="Trap">
        Trap</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
                
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Trap 1.3</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="trap-api/quickstart.html" title="Java Quickstart">
          <i class="none"></i>
        Java Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="JavaScript Quickstart">
          <i class="none"></i>
        JavaScript Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="channels.html" title="Channels">
          <i class="none"></i>
        Channels</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Configuration</a>
          </li>
                              <li class="nav-header">Language Specific Documentation</li>
                                
      <li>
    
                          <a href="trap-api/index.html" title="Java">
          <i class="none"></i>
        Java</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="JavaScript">
          <i class="none"></i>
        JavaScript</a>
            </li>
                              <li class="nav-header">Modules</li>
                                
      <li>
    
                          <a href="trap-utils-api/index.html" title="TrAP Utils API">
          <i class="none"></i>
        TrAP Utils API</a>
            </li>
                  
      <li>
    
                          <a href="trap-utils-15/index.html" title="TrAP Utils JDK 1.5">
          <i class="none"></i>
        TrAP Utils JDK 1.5</a>
            </li>
                  
      <li>
    
                          <a href="trap-network/index.html" title="Trap Networking Layer">
          <i class="none"></i>
        Trap Networking Layer</a>
            </li>
                  
      <li>
    
                          <a href="trap-api/index.html" title="TrAP API">
          <i class="none"></i>
        TrAP API</a>
            </li>
                  
      <li>
    
                          <a href="trap-core/index.html" title="TrAP Core">
          <i class="none"></i>
        TrAP Core</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="TrAP JavaScript">
          <i class="none"></i>
        TrAP JavaScript</a>
            </li>
                  
      <li>
    
                          <a href="transports/index.html" title="TrAP Transports">
          <i class="none"></i>
        TrAP Transports</a>
            </li>
                  
      <li>
    
                          <a href="trap-tests-parent/index.html" title="TrAP Packaging Parent">
          <i class="none"></i>
        TrAP Packaging Parent</a>
            </li>
                  
      <li>
    
                          <a href="package-parent/index.html" title="TrAP Packaging Parent">
          <i class="none"></i>
        TrAP Packaging Parent</a>
            </li>
                  
      <li>
    
                          <a href="trap-android/index.html" title="TrAP Android Library">
          <i class="none"></i>
        TrAP Android Library</a>
            </li>
                  
      <li>
    
                          <a href="trap-index-maven-plugin/index.html" title="Index Maven Plugin">
          <i class="none"></i>
        Index Maven Plugin</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                                                
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                          
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="ericssonresearch.github.io/trap/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Trap Configuration</h1>
<p>Trap employs a simple, hierarchical, key-value configuration system. Each key corresponds to one value exactly. There is one key pair per line, separated by an equals sign. The line is terminated by a newline character. A typical configuration could look as follows</p>

<div class="source">
<pre>trap.host = 127.0.0.1
trap.keepalive.interval = 15
trap.transport.http.port = 8080
</pre></div>
<p>Trap Configuration can be supplied anywhere a &#x201c;config&#x201d; string is used, even if that same field can also accept a prefix. For example, when creating <tt>new Trap.ClientEndpoint</tt> in JavaScript, a configuration string can be included.</p>
<h1>Global Configuration Options</h1>
<p>The following options apply globally.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>option </th>
      
<th>type </th>
      
<th>default </th>
      
<th>meaning</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>trap.keepalive.interval </td>
      
<td>integer </td>
      
<td>15 </td>
      
<td>Number of seconds (approximate) between each static keepalive</td>
    </tr>
    
<tr class="a">
      
<td>trap.keepalive.expiry </td>
      
<td>long </td>
      
<td>5000 </td>
      
<td>Number of milliseconds to wait before concluding a keepalive has expired.</td>
    </tr>
    
<tr class="b">
      
<td>trap.concurrent-connection-window </td>
      
<td>long </td>
      
<td>30000 </td>
      
<td>Number of milliseconds to use additional server-side resources for speeding up handshakes.</td>
    </tr>
    
<tr class="a">
      
<td>trap.max-active-transports </td>
      
<td>int </td>
      
<td>1 </td>
      
<td>The number of transports that shall be kept open once negotiation has concluded.</td>
    </tr>
    
<tr class="b">
      
<td>trap.max-connecting-transports </td>
      
<td>int </td>
      
<td>4 </td>
      
<td>The number of transports to attempt to connect at any one time. A larger number speeds up negotiation time, but requires more CPU and bandwidth.</td>
    </tr>
    
<tr class="a">
      
<td>trap.host </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The hostname or IP number to bind to. This value will be inherited by all transports.</td>
    </tr>
    
<tr class="b">
      
<td>trap.loggerprefix </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>A prefix to prepend to the Trap loggers. This allows users to channel Trap data into separate loggers.</td>
    </tr>
    
<tr class="a">
      
<td>trap.enablecompression </td>
      
<td>bool </td>
      
<td>true </td>
      
<td>Enables/disables compression support. This is used in negotiation, whether or not to even accept compression. If disabled, overrides the sender to not compress data even if requested by the API.</td>
    </tr>
    
<tr class="b">
      
<td>trap.maxchunksize </td>
      
<td>int </td>
      
<td>-1 </td>
      
<td>Sets the maximum chunk size globally. Channels cannot override this. Set to 0 or less to disable chunking.</td>
    </tr>
    
<tr class="a">
      
<td>trap.auto_hostname </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>Hostname for automatic configuration. Set this to the client-visible hostname, if different from the bind hostname.</td>
    </tr>
  </tbody>
</table>
<h1>Transport Configuration Options</h1>
<p>Transports can be configured independently. Each transport has a number of configurable parameters. The default ones are included below.</p>
<div class="section">
<h2>Loopback Transport<a name="Loopback_Transport"></a></h2>
<p>The loopback transport has very few options. Note that the &#x201c;loopback&#x201d; transport provides two transports: the asynchronous one, and a synchronous one for debug purposes.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>option </th>
      
<th>type </th>
      
<th>default </th>
      
<th>meaning</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>trap.transport.asyncloopback.enabled </td>
      
<td>&#xa0;bool </td>
      
<td>true </td>
      
<td>Enables/Disables this transport.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.asyncloopback.priority </td>
      
<td>&#xa0;int </td>
      
<td>-1100 </td>
      
<td>The relative transport priority.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.loopback.enabled </td>
      
<td>&#xa0;bool </td>
      
<td>false </td>
      
<td>Enables/Disables this transport.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.loopback.priority </td>
      
<td>&#xa0;int </td>
      
<td>-1000 </td>
      
<td>The relative transport priority.</td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2>Socket Transport<a name="Socket_Transport"></a></h2>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>option </th>
      
<th>type </th>
      
<th>default </th>
      
<th>meaning</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>trap.transport.socket.enabled </td>
      
<td>&#xa0;bool </td>
      
<td>true </td>
      
<td>Enables/Disables this transport.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.socket.priority </td>
      
<td>&#xa0;int </td>
      
<td>-100 </td>
      
<td>The relative transport priority.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.socket.host </td>
      
<td>String </td>
      
<td><tt>0.0.0.0</tt> </td>
      
<td>The host (IP address) to bind to on the server, and the hostname or IP address to connect to on the client.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.socket.port </td>
      
<td>int </td>
      
<td>0 </td>
      
<td>The port to bind to on the server, and the port to connect to on the client</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.socket.autoconfig.host </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The hostname or ip address to provide for getClientConfiguration() purposes. This must be an IP number that can be accessed for the intended clients of the Trap server, though it must not be a public IP number or hostname. No validation will be performed on this value.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.socket.autoconfig.port </td>
      
<td>int </td>
      
<td><tt>none</tt> </td>
      
<td>The port to provide for getClientConfiguration() purposes. This must be the port that clients can connect to. No validation will be performed on this.</td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2>Websocket Transport<a name="Websocket_Transport"></a></h2>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>option </th>
      
<th>type </th>
      
<th>default </th>
      
<th>meaning</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>trap.transport.websocket.enabled </td>
      
<td>&#xa0;bool </td>
      
<td>true </td>
      
<td>Enables/Disables this transport.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.websocket.priority </td>
      
<td>&#xa0;int </td>
      
<td>0 </td>
      
<td>The relative transport priority.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.websocket.wsuri </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The URI to connect the WebSocket to. Used to send configuration to clients. Automatically generated on the server, specified on the client</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.websocket.host </td>
      
<td>String </td>
      
<td><tt>0.0.0.0</tt> </td>
      
<td>The host (IP address) to bind to on the server</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.websocket.port </td>
      
<td>int </td>
      
<td>0 </td>
      
<td>The port to bind to on the server</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.websocket.autoconfig.host</td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The hostname or ip address to provide for getClientConfiguration() purposes. This must be an IP number that can be accessed for the intended clients of the Trap server, though it must not be a public IP number or hostname. No validation will be performed on this value.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.websocket.autoconfig.port </td>
      
<td>int </td>
      
<td><tt>none</tt> </td>
      
<td>The port to provide for getClientConfiguration() purposes. This must be the port that clients can connect to. No validation will be performed on this.</td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2>HTTP Transport<a name="HTTP_Transport"></a></h2>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>option </th>
      
<th>type </th>
      
<th>default </th>
      
<th>meaning</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>trap.transport.http.enabled </td>
      
<td>&#xa0;bool </td>
      
<td>true </td>
      
<td>Enables/Disables this transport.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.http.priority </td>
      
<td>&#xa0;int </td>
      
<td>1000 </td>
      
<td>The relative transport priority.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.http.url </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The URL to connect the WebSocket to. Used to send configuration to clients. Automatically generated on the server, specified on the client</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.http.host </td>
      
<td>String </td>
      
<td><tt>0.0.0.0</tt> </td>
      
<td>The host (IP address) to bind to on the server</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.http.port </td>
      
<td>int </td>
      
<td>0 </td>
      
<td>The port to bind to on the server</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.http.autoconfig.host </td>
      
<td>String </td>
      
<td><tt>none</tt> </td>
      
<td>The hostname or ip address to provide for getClientConfiguration() purposes. This must be an IP number that can be accessed for the intended clients of the Trap server, though it must not be a public IP number or hostname. No validation will be performed on this value. This parameter is required when using HttpServlet transport (automatic in Servlet 3.0 containers).</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.http.autoconfig.port </td>
      
<td>int </td>
      
<td>0 </td>
      
<td>The port to provide for getClientConfiguration() purposes. This must be the port that clients can connect to. No validation will be performed on this. This parameter is required when using HttpServlet transport (automatic in Servlet 3.0 containers).</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.http.autoconfig.scheme </td>
      
<td>String </td>
      
<td><tt>http</tt> or <tt>http</tt> </td>
      
<td>The scheme to use for connecting. Generally, http or https. This parameter is recommended for servlet containers, but not required.</td>
    </tr>
    
<tr class="b">
      
<td>trap.transport.http.autoconfig.path </td>
      
<td>String </td>
      
<td><tt>autodetected</tt> </td>
      
<td>The path to use for connecting. This can generally be automatically derived, and should not be overriden.</td>
    </tr>
    
<tr class="a">
      
<td>trap.transport.http.expirationDelay </td>
      
<td>int </td>
      
<td>30000 </td>
      
<td>The number of milliseconds to leave the long polling connection open. This value can be set both on the server and on the client. Only the shortest value will matter; the client&#x2019;s value will be propagated to the server.</td>
    </tr>
  </tbody>
</table>
<h1>Prefix Shortening</h1>
<p>Prefixes in the configuration can be shortened, and preceding whitespace ignored. Thus, a longer configuration can be shortened to this:</p>

<div class="source">
<pre>trap.
    .loggerprefix = myapp
    .keepalive.interval = 15

trap.transport.http.
    .enabled = true
    .url = http://trapserver.com:8888
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014
                        <a href="https://www.ericsson.com">Ericsson AB</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>