<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-17
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141117" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Transport Abstraction Package - Trap - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>TrAP Parent</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-17</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.0-SNAPSHOT</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="index.html" title="Trap">
        Trap</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
                
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Trap 1.3.0-SNAPSHOT</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="trap-api/quickstart.html" title="Java Quickstart">
          <i class="none"></i>
        Java Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="JavaScript Quickstart">
          <i class="none"></i>
        JavaScript Quickstart</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Channels</a>
          </li>
                  
      <li>
    
                          <a href="configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                              <li class="nav-header">Language Specific Documentation</li>
                                
      <li>
    
                          <a href="trap-api/index.html" title="Java">
          <i class="none"></i>
        Java</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="JavaScript">
          <i class="none"></i>
        JavaScript</a>
            </li>
                              <li class="nav-header">Modules</li>
                                
      <li>
    
                          <a href="trap-utils-api/index.html" title="TrAP Utils API">
          <i class="none"></i>
        TrAP Utils API</a>
            </li>
                  
      <li>
    
                          <a href="trap-utils-15/index.html" title="TrAP Utils JDK 1.5">
          <i class="none"></i>
        TrAP Utils JDK 1.5</a>
            </li>
                  
      <li>
    
                          <a href="trap-network/index.html" title="Trap Networking Layer">
          <i class="none"></i>
        Trap Networking Layer</a>
            </li>
                  
      <li>
    
                          <a href="trap-api/index.html" title="TrAP API">
          <i class="none"></i>
        TrAP API</a>
            </li>
                  
      <li>
    
                          <a href="trap-core/index.html" title="TrAP Core">
          <i class="none"></i>
        TrAP Core</a>
            </li>
                  
      <li>
    
                          <a href="trap-js/index.html" title="TrAP JavaScript">
          <i class="none"></i>
        TrAP JavaScript</a>
            </li>
                  
      <li>
    
                          <a href="transports/index.html" title="TrAP Transports">
          <i class="none"></i>
        TrAP Transports</a>
            </li>
                  
      <li>
    
                          <a href="trap-tests-parent/index.html" title="TrAP Packaging Parent">
          <i class="none"></i>
        TrAP Packaging Parent</a>
            </li>
                  
      <li>
    
                          <a href="package-parent/index.html" title="TrAP Packaging Parent">
          <i class="none"></i>
        TrAP Packaging Parent</a>
            </li>
                  
      <li>
    
                          <a href="trap-android/index.html" title="TrAP Android Library">
          <i class="none"></i>
        TrAP Android Library</a>
            </li>
                  
      <li>
    
                          <a href="trap-index-maven-plugin/index.html" title="Index Maven Plugin">
          <i class="none"></i>
        Index Maven Plugin</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                                                
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                          
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="ericssonresearch.github.io/trap/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Channels</h1>
<p>Trap provides for multiplexed data transfer, in order to allow one physical connection to carry multiple logical flows. These logical flows can be completely independent of each-other, and, as such, may have different requirements. For example, one flow can be the transfer of a 1gb movie, while a separate flow contains short control messages, or user-to-user text messages.</p>
<p>Channels provide a way to separate out these flows.</p>
<p>With channels, the application can specify a channel for &#x201c;bulk&#x201d; data, and a channel for prioritised data. When data is sent on the prioritised channel, it will pre-empt the bulk transfer. This allows multiple separate flows to coexist without having to establish separate physical connections.</p>
<p>Channels are instantly available. You can send on any supported channel. Channel configuration can be asymmetric &#x2013; the server can have different bandwidths and priorities for a channel than the client. This allows proper prioritisation on asymmetric links, as many internet connections are.</p>
<h1>Using a channel</h1>
<p>All channels are instantly available, and can be used at will. The default configuration uses <i>16kb</i> chunks and <i>128kb</i> in flight bytes. Within the same priority level, channels are cycled on a <i>round robin</i> basis. All channels share the same priority, with the exception of the <i>trap control channel</i>, with ID 0. This channel should not be used.</p>
<p>Using a channel is as simple as specifying it when sending data. Thus, to send on channel 1:</p>

<div class="source">
<pre>client.send(msg, 1, false) // Java
client.send(msg, 1); // JavaScript
</pre></div>
<p>All channels can be used instantly.</p>
<h1>Configuring a channel</h1>
<p>Channels can be customised as well. It is possible to change the <i>priority</i> of a channel. The priority goes from positive to negative (highest to lowest priority), where the highest priority can pre-empt other traffic. Thus, a channel with priority <i>100</i> will have a possibility to send traffic before a channel with priority <i>1</i>. If a link does not have enough bandwidth, it is possible for lower prioritised channels to be starved out.</p>
<p>Within the same priority level, messages will be <i>interleaved</i>. If there are five channels at level 0, they will each get to send out one <i>chunk</i>. They will not be starved out individually in case of a lack of bandwidth.</p>
<p>Channels are accessed using the <i>getChannel</i> method.</p>

<div class="source">
<pre>channel = client.getChannel(1);
</pre></div>
<p>Once a channel is accessed, several properties can be set. These include:</p>

<ul>
  
<li><b>maxInflightBytes</b>: The number of bytes that can be in transit (=not acknowledged by the receiver) at any time. A larger number can increase throughput, but cause congestion.</li>
  
<li><b>streaming</b>: Normally, Trap treats each message as atomic. With streaming mode enabled, this distinction is removed, and Trap can merge or split messages to transport them faster. Media content such as video can greatly benefit from streaming mode.</li>
  
<li><b>chunkSize</b>: Trap will divide up larger messages into smaller chunks for transport (reassembling them on the receiver side). The default chunksize is 16kb, so Trap only provides 0.1% overhead. This can be tuned to fit the data format of a channel.</li>
  
<li><b>priority</b>: The relative priority of this channel as compared to other channels. Higher values give more priority to this channel.</li>
</ul>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014
                        <a href="https://www.ericsson.com">Ericsson AB</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>